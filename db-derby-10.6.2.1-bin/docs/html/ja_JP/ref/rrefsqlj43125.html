<!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
<meta name="copyright" content="(C) Copyright 2005" />
<meta name="DC.rights.owner" content="(C) Copyright 2005" />
<meta content="public" name="security" />
<meta content="index,follow" name="Robots" />
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta content="reference" name="DC.Type" />
<meta name="DC.Title" content="CREATE TRIGGER æ–‡" />
<meta content="CREATE TRIGGER statement, SQL statements, CREATE TRIGGER, triggers, creating, defining when they fire, database events, referencing clause, referencing old and new values, statement versus row triggers, triggered-SQL-statement, order of execution, recursion" name="DC.subject" />
<meta content="CREATE TRIGGER statement, SQL statements, CREATE TRIGGER, triggers, creating, defining when they fire, database events, referencing clause, referencing old and new values, statement versus row triggers, triggered-SQL-statement, order of execution, recursion" name="keywords" />
<meta scheme="URI" name="DC.Relation" content="crefsqlj95081.html" />
<meta scheme="URI" name="DC.Relation" content="rrefcreatefunctionstatement.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj20937.html" />
<meta scheme="URI" name="DC.Relation" content="rrefcreateprocedurestatement.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj31580.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqljcreatesynonym.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj24513.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj15446.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj89752.html" />
<meta content="XHTML" name="DC.Format" />
<meta content="rrefsqlj43125" name="DC.Identifier" />
<meta content="en-us" name="DC.Language" />
<link href="commonltr.css" type="text/css" rel="stylesheet" />
<title>CREATE TRIGGER æ–‡</title>
</head>
<body id="rrefsqlj43125"><a name="rrefsqlj43125"><!-- --></a>


<h1 class="topictitle1">CREATE TRIGGER æ–‡</h1>


<div>
<div class="section"> <p>ãƒˆãƒªã‚¬ã?«ã‚ˆã‚Šãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã?®ã‚¤ãƒ™ãƒ³ãƒˆã?«å¿œã?˜ã?¦å®Ÿè¡Œã?•ã‚Œã‚‹ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã?®é›†å?ˆã‚’ã€?è¡¨ã?«å®šç¾©ã?™ã‚‹ã?“ã?¨ã?Œã?§ã??ã?¾ã?™ã€‚ã?“ã?“ã?§<em>ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã?®ã‚¤ãƒ™ãƒ³ãƒˆ</em>ã?¨ã?¯å‰Šé™¤ã€?æŒ¿å…¥ã€?æ›´æ–°å‡¦ç?†ã?®ã?“ã?¨ã?§ã?™ã€‚
ä¾‹ã?ˆã?°è¡¨ã?«å‰Šé™¤ã?¸ã?®ãƒˆãƒªã‚¬ã‚’å®šç¾©ã?—ã?Ÿå ´å?ˆã€?ã??ã?®ãƒˆãƒªã‚¬ã?®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã?¯è¡¨ã?‹ã‚‰è¡Œã?Œå‰Šé™¤ã?•ã‚Œã‚‹ã?¨ã??ã?«å®Ÿè¡Œã?•ã‚Œã?¾ã?™ã€‚</p>
<p>åˆ¶ç´„ã?¨ä½µã?›ã?¦ã€?ãƒˆãƒªã‚¬ã?«ã‚ˆã‚‹æ³¢å?Šçš„ã?ªå‰Šé™¤ã‚„æ›´æ–°ã‚’å®šç¾©ã?™ã‚‹ã?“ã?¨ã?§ã€?æƒ…å ±ã?®æ•´å?ˆæ€§ã‚’ä¿?ã?¤ã?“ã?¨ã?Œã?§ã??ã?¾ã?™ã€‚
ãƒˆãƒªã‚¬ã?§å®Ÿç?¾ã?§ã??ã‚‹æ©Ÿèƒ½ã?¯ã?“ã?®ã?»ã?‹ã?«ã‚‚ã€?è­¦å‘Šã?®å‘ˆç¤ºã‚„ã€?ä»–ã?®è¡¨ã?®æ›´æ–°ã€?e-mailã?®é€?ä¿¡ã‚„ã??ã?®ä»–ã?®å‡¦ç?†ã?ªã?©ã€?å¤šå²?ã?«ã‚?ã?Ÿã‚Šã?¾ã?™ã€‚</p>
<p>ã?²ã?¨ã?¤ã?®è¡¨ã?«å®šç¾©å?¯èƒ½ã?ªãƒˆãƒªã‚¬ã?®æ•°ã?«ã?¯ã€?ã??ã‚Œã‚‰ã?®ãƒˆãƒªã‚¬ã?Œå?Œã?˜ã‚¤ãƒ™ãƒ³ãƒˆã?¸ã?®ãƒˆãƒªã‚¬ã?§ã?‚ã‚‹ã?‹å?¦ã?‹ã?«ã?‹ã?‹ã‚?ã‚‰ã?šã€?ä¸Šé™?ã?¯ã?‚ã‚Šã?¾ã?›ã‚“ã€‚</p>

<p>ã‚¹ã‚­ãƒ¼ãƒžã?®æ‰€æœ‰è€…ã?§ã?‚ã‚‹ãƒ¦ãƒ¼ã‚¶ã?§ã?‚ã‚Œã?°ã€?ã??ã?®ã‚¹ã‚­ãƒ¼ãƒžã?«ãƒˆãƒªã‚¬ã‚’ä½œæˆ?ã?™ã‚‹ã?“ã?¨ã?Œã?§ã??ã?¾ã?™ã€‚
æ‰€æœ‰ã?—ã?¦ã?„ã?ªã?„è¡¨ã?«ãƒˆãƒªã‚¬ã‚’å®šç¾©ã?™ã‚‹ã?Ÿã‚?ã?«ã?¯ã€?ã??ã?®è¡¨ã?«TRIGGERæ¨©é™?ã‚’æŒ?ã?£ã?¦ã?„ã?ªã?‘ã‚Œã?°ã?ªã‚Šã?¾ã?›ã‚“ã€‚
<a href="rrefattrib26867.html#rrefattrib26867">ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã?®æ‰€æœ‰è€…</a>ã?§ã?‚ã‚‹ãƒ¦ãƒ¼ã‚¶ã?§ã?‚ã‚Œã?°ã€?ã?©ã?®ã‚¹ã‚­ãƒ¼ãƒžã?®ã?©ã?®è¡¨ã?«å¯¾ã?—ã?¦ã‚‚ãƒˆãƒªã‚¬ã‚’ä½œæˆ?ã?™ã‚‹ã?“ã?¨ã?Œã?§ã??ã?¾ã?™ã€‚</p>

<p>ãƒˆãƒªã‚¬ã?¯ãƒˆãƒªã‚¬ã?Œå®šç¾©ã?•ã‚Œã?¦ã?„ã‚‹è¡¨ã?¨ã?¯ç•°ã?ªã‚‹ã‚¹ã‚­ãƒ¼ãƒžã?«å®šç¾©ã?™ã‚‹ã?“ã?¨ã‚‚å?¯èƒ½ã?§ã?™ã€‚</p>

<p>é™?å®šã?•ã‚Œã?Ÿãƒˆãƒªã‚¬å??ã?®ã‚¹ã‚­ãƒ¼ãƒžå??ã?¯ã€?<em>SYS</em>ã?§å§‹ã?¾ã?£ã?¦ã?¯ã?ªã‚Šã?¾ã?›ã‚“ã€‚</p>
</div>

<div class="section" id="rrefsqlj43125__syn001"><a name="rrefsqlj43125__syn001"><!-- --></a><h4 class="sectiontitle">æ§‹æ–‡</h4><pre><strong>CREATE TRIGGER <em><a href="rreftriggername.html#rreftriggername">ãƒˆãƒªã‚¬å??</a></em>
{ AFTER | NO CASCADE BEFORE } 
{ INSERT | DELETE | UPDATE [ OF <em>åˆ—å??</em> [, <em><a href="rrefcolumnname.html#rrefcolumnname">åˆ—å??</a></em>]* ] }
ON <em><a href="rreftablename.html#rreftablename">è¡¨å??</a></em>
[ <em><a href="rrefsqlj89752.html#rrefsqlj89752">å?‚ç…§ç¯€</a></em> ]
[ FOR EACH { ROW | STATEMENT } ] [ MODE DB2SQL ] 
<em><a href="rrefsqlj43125.html#rrefsqlj43125__i1149821">ãƒˆãƒªã‚¬ã?•ã‚Œã‚‹SQLæ–‡</a></em></strong></pre>
 </div>

<div class="section"><h4 class="sectiontitle">ãƒˆãƒªã‚¬ã?®ç™ºç?«ã?Œå‰?ã?‹å¾Œã?‹</h4> <div class="p">ãƒˆãƒªã‚¬ã?¯<em>å‰?ã?®ãƒˆãƒªã‚¬</em>ã?‚ã‚‹ã?„ã?¯<em>å¾Œã?®ãƒˆãƒªã‚¬</em>ã?®ã?„ã?šã‚Œã?‹ã?¨ã?—ã?¦å®šç¾©ã?§ã??ã?¾ã?™ã€‚<ul>
<li><em>å‰?ã?®ãƒˆãƒªã‚¬</em>ã?¯æ–‡ã?«ã‚ˆã‚‹å¤‰æ›´ã?Œé?©ç”¨ã?•ã‚Œåˆ¶ç´„ã?«ã‚ˆã‚‹æ¤œè¨¼ã?Œè¡Œã‚?ã‚Œã‚‹å‰?ã?«ç™ºç?«ã?—ã?¾ã?™ã€‚
å‰?ã?®ãƒˆãƒªã‚¬ã?¯ã€?è¡Œã?®ãƒˆãƒªã‚¬ã?‚ã‚‹ã?„ã?¯æ–‡ã?®ãƒˆãƒªã‚¬ã?®ã?„ã?šã‚Œã?«ã‚‚ã?ªã‚‹ã?“ã?¨ã?Œã?§ã??ã?¾ã?™ã€‚(è©³ç´°ã?¯<a href="rrefsqlj43125.html#rrefsqlj43125__sqlj54276">æ–‡ã?®ãƒˆãƒªã‚¬ã?¨è¡Œã?®ãƒˆãƒªã‚¬</a>ã‚’å?‚ç…§ã?—ã?¦ã??ã? ã?•ã?„ã€‚)</li>

<li><em>å¾Œã?®ãƒˆãƒªã‚¬</em>ã?¯å¤‰æ›´ã?Œé?©ç”¨ã?•ã‚Œåˆ¶ç´„ã?«ã‚ˆã‚‹æ¤œè¨¼ã?Œæº€ã?Ÿã?•ã‚Œã?Ÿå¾Œã?«ç™ºç?«ã?—ã?¾ã?™ã€‚
<em>å¾Œã?®ãƒˆãƒªã‚¬</em>ã?¯ã€?è¡Œã?®ãƒˆãƒªã‚¬ã?‚ã‚‹ã?„ã?¯æ–‡ã?®ãƒˆãƒªã‚¬ã?®ã?„ã?šã‚Œã?«ã‚‚ã?ªã‚‹ã?“ã?¨ã?Œã?§ã??ã?¾ã?™ã€‚(è©³ç´°ã?¯<a href="rrefsqlj43125.html#rrefsqlj43125__sqlj54276">æ–‡ã?®ãƒˆãƒªã‚¬ã?¨è¡Œã?®ãƒˆãƒªã‚¬</a>ã‚’å?‚ç…§ã?—ã?¦ã??ã? ã?•ã?„ã€‚)</li>

</ul>
</div>
 </div>

<div class="section"><h4 class="sectiontitle">æŒ¿å…¥ã€?å‰Šé™¤ã€?æ›´æ–°ã?®ã?„ã?šã‚Œã?«ã‚ˆã‚Šãƒˆãƒªã‚¬ã?¯ç™ºç?«ã?•ã‚Œã‚‹ã?®ã?‹</h4> 
<div class="p">ãƒˆãƒªã‚¬ã?¯ã?©ã?®ã‚ˆã?†ã?«å®šç¾©ã?•ã‚Œã?Ÿã?‹ã?«å¾“ã?£ã?¦ã€?æ¬¡ã?®ã?„ã?šã‚Œã?‹ã?®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã?®ã‚¤ãƒ™ãƒ³ãƒˆã?«ã‚ˆã‚Šç™ºç?«ã?—ã?¾ã?™ã€‚(ä¸Šè¨˜ã?®<a href="rrefsqlj43125.html#rrefsqlj43125__syn001">æ§‹æ–‡</a>ã‚’å?‚ç…§ã?—ã?¦ã??ã? ã?•ã?„ã€‚<ul>
<li>INSERT</li>

<li>UPDATE</li>

<li>DELETE</li>

</ul>
</div>
 
<p>è¡¨ã?®ã‚¤ãƒ™ãƒ³ãƒˆã?”ã?¨ã?«å®šç¾©ã?§ã??ã‚‹ãƒˆãƒªã‚¬ã?®æ•°ã?«ä¸Šé™?ã?¯ã?‚ã‚Šã?¾ã?›ã‚“ã€‚ã?•ã‚‰ã?«æ›´æ–°ã?¸ã?®ãƒˆãƒªã‚¬ã?§ã?‚ã‚Œã?°ã€?å¯¾è±¡ã?¨ã?ªã‚‹åˆ—ã‚’æ˜Žç¤ºã?™ã‚‹ã?“ã?¨ã?Œã?§ã??ã?¾ã?™ã€‚</p>
 </div>

<div class="section" id="rrefsqlj43125__sqlj67748"><a name="rrefsqlj43125__sqlj67748"><!-- --></a><h4 class="sectiontitle">å?¤ã?„å€¤ã‚’å?‚ç…§ã?™ã‚‹ã?®ã?‹ã€?æ–°ã?—ã?„å€¤ã‚’å?‚ç…§ã?™ã‚‹ã?®ã?‹:å?‚ç…§ç¯€</h4> 
<p>ç™ºç?«ã?®åŽŸå› ã?¨ã?ªã?£ã?Ÿã‚¤ãƒ™ãƒ³ãƒˆã?§ç?¾åœ¨å¤‰æ›´ã?•ã‚Œã?Ÿæƒ…å ±ã‚’ãƒˆãƒªã‚¬ã?•ã‚Œã‚‹SQLæ–‡ã?‹ã‚‰å?‚ç…§ã?™ã‚‹ã?“ã?¨ã?¯è‰¯ã??ã?‚ã‚‹ã?“ã?¨ã?§ã?™ã€‚
ã?¾ã?Ÿã€?ãƒˆãƒªã‚¬ã?•ã‚Œã‚‹SQLæ–‡ã?Œå?‚ç…§ã?—ã?ªã?‘ã‚Œã?°ã?ªã‚‰ã?ªã?„ã?®ã?¯æ–°ã?—ã?„å€¤(å¤‰æ›´å¾Œã€?å¾Œã?®å€¤ã€?ã?¨è¨€ã?†ã?“ã?¨ã‚‚ã?§ã??ã?¾ã?™)ã?§ã?‚ã‚‹å ´å?ˆã?Œã?‚ã‚Šã?¾ã?™ã€‚</p>
 
<p><span>Derby</span>ã?«ã?¦ã€?ç™ºç?«ã?—ã?ŸåŽŸå› ã?¨ã?ªã?£ã?Ÿã‚¤ãƒ™ãƒ³ãƒˆã?«ã‚ˆã‚Šå¤‰æ›´ã?•ã‚Œã?Ÿæƒ…å ±ã‚’ãƒˆãƒªã‚¬ã?‹ã‚‰å?‚ç…§ã?™ã‚‹æ–¹æ³•ã?¯ã?²ã?¨ã?¤ã? ã?‘ã?§ã?¯ã?‚ã‚Šã?¾ã?›ã‚“ã€‚å¤‰æ›´ã?•ã‚Œã?Ÿæƒ…å ±ã?¯ãƒˆãƒªã‚¬ã?•ã‚Œã‚‹SQLæ–‡ã?‹ã‚‰ã€?<em>é?·ç§»å¤‰æ•°</em>ã?‚ã‚‹ã?„ã?¯<em>é?·ç§»è¡¨</em>ã?§å?‚ç…§ã?™ã‚‹ã?“ã?¨ã?Œã?§ã??ã?¾ã?™ã€‚
å?‚ç…§ç¯€ã?«ã?¦é?·ç§»å¤‰æ•°ã?¸ã?®ç›¸é–¢å??ã‚„åˆ¥å??ã‚’ã€?OLD/NEW AS <em>ç›¸é–¢å??</em>ã?¨ã?„ã?†æ›¸å¼?ã?§è¨˜è¿°ã?§ã??ã?¾ã?™ã€‚</p>
 
<div class="p">ä¾‹ã?ˆã?°ã€?æ¬¡ã?®ã‚ˆã?†ã?ªç¯€ã‚’ãƒˆãƒªã‚¬ã?®å®šç¾©ã?«è¨˜è¿°ã?—ã?Ÿå ´å?ˆã€‚<pre><strong>REFERENCING OLD AS DELETEDROW</strong></pre>
</div>
 
<div class="p">ãƒˆãƒªã‚¬ã?•ã‚Œã‚‹SQLæ–‡ã?§ã?“ã?®ç›¸é–¢å??ã‚’å?‚ç…§ã?§ã??ã?¾ã?™ã€‚<pre><strong>DELETE FROM HotelAvailability WHERE hotel_id = DELETEDROW.hotel_id</strong></pre>
</div>
 <div class="p">é?·ç§»å¤‰æ•°ã?¯OLDã?‹NEWã?®ã?„ã?šã‚Œã?‹ã?«é–¢ã‚?ã‚‰ã?šã€?å?˜ä¸€ã?®è¡Œã‚’æŒ?ã?¤<em>java.sql.ResultSet</em>ã?«ãƒžãƒƒãƒ—ã?•ã‚Œã?¾ã?™ã€‚<div class="note"><span class="notetitle">Note: </span>é?·ç§»å¤‰æ•°ã‚’ä½¿ã?ˆã‚‹ã?®ã?¯ã€?è¡Œã?®ãƒˆãƒªã‚¬ã? ã?‘ã?§ã?™ã€‚(<a href="rrefsqlj43125.html#rrefsqlj43125__sqlj54276">æ–‡ã?®ãƒˆãƒªã‚¬ã?¨è¡Œã?®ãƒˆãƒªã‚¬</a>ã‚’å?‚ç…§ã?—ã?¦ã??ã? ã?•ã?„ã€‚)
ã?¾ã?Ÿã€?æŒ¿å…¥ã‚¤ãƒ™ãƒ³ãƒˆã?®è¡Œã?®ãƒˆãƒªã‚¬ã?§ã?¯OLDã?®è¡Œã‚’å?‚ç…§ã?§ã??ã?¾ã?›ã‚“ã€‚å‰Šé™¤ã‚¤ãƒ™ãƒ³ãƒˆã?®è¡Œã?®ãƒˆãƒªã‚¬ã?§ã?¯NEWã?®è¡Œã‚’å?‚ç…§ã?§ã??ã?¾ã?›ã‚“ã€‚</div>
</div>
 
<p>æ–‡ã?®ãƒˆãƒªã‚¬ã?§ã?¯ã€?é?·ç§»<em>è¡¨</em>ã‚’ãƒˆãƒªã‚¬ã?•ã‚Œã‚‹SQLæ–‡ã‚„ãƒˆãƒªã‚¬ã?®è³‡æ ¼ã?§å?‚ç…§å?¯èƒ½ã?§ã?™ã€‚
å?‚ç…§ç¯€ã?«ã?¦å?‚ç…§è¡¨ã?¸ã?®ç›¸é–¢å??ã‚„åˆ¥å??ã‚’ã€?OLD_TABLE/NEW_TABLE AS ç›¸é–¢å??ã?¨ã?„ã?†æ›¸å¼?ã?§è¨˜è¿°ã?§ã??ã?¾ã?™ã€‚</p>

<div class="p">ä¾‹ã?ˆã?°ã€?
  <pre><strong>REFERENCING OLD_TABLE AS DeletedHotels</strong></pre>
</div>
 
<div class="p">ã?¨æ›¸ã??ã?“ã?¨ã?§è­˜åˆ¥å­?(<em>DeletedHotels</em>)ã‚’ãƒˆãƒªã‚¬ã?•ã‚Œã‚‹SQLæ–‡ã?§ä½¿ã?†ã?“ã?¨ã?Œã?§ã??ã?¾ã?™ã€‚
  <pre><strong>DELETE FROM HotelAvailability WHERE hotel_id IN
    (SELECT hotel_id FROM DeletedHotels)</strong></pre>
</div>
 
<div class="p">é?·ç§»è¡¨ã?¯å?¤ã?„ã?‹æ–°ã?—ã?„ã?‹ã?«é–¢ã‚?ã‚‰ã?šã€?ãƒˆãƒªã‚¬ã?Œç?€ç?«ã?—ã?ŸåŽŸå› ã?®ã‚¤ãƒ™ãƒ³ãƒˆã?§å½±éŸ¿ã‚’å?—ã?‘ã?Ÿè¡Œã?®æ•°ã?¨å?Œã?˜åŸºæ•°ã‚’ã‚‚ã?¤<em>java.sql.ResultSet</em>ã?«ãƒžãƒƒãƒ—ã?•ã‚Œã?¾ã?™ã€‚
<div class="note"><span class="notetitle">Note: </span>æ–‡ã?®ãƒˆãƒªã‚¬(<a href="rrefsqlj43125.html#rrefsqlj43125__sqlj54276">æ–‡ã?®ãƒˆãƒªã‚¬ã?¨è¡Œã?®ãƒˆãƒªã‚¬</a>ã‚’å?‚ç…§ã?—ã?¦ã??ã? ã?•ã?„ã€‚)ã?§ã?®ã?¿é?·ç§»è¡¨ã?¯åˆ©ç”¨å?¯èƒ½ã?§ã?™ã€‚
INSERTæ–‡ã?¸ã?®ãƒˆãƒªã‚¬ã?§ã?¯ã€?OLDã?®è¡¨ã?¯å?‚ç…§ã?§ã??ã?¾ã?›ã‚“ã€‚DELETEæ–‡ã?¸ã?®ãƒˆãƒªã‚¬ã?§ã?¯ã€?NEWã?®è¡¨ã?¯å?‚ç…§ã?§ã??ã?¾ã?›ã‚“ã€‚</div>
</div>
 
<p>å?‚ç…§ç¯€ã?§ã?¯ã€?æ–°ã?—ã?„ã‚‚ã?®ã?¨å?¤ã?„ã‚‚ã?®ã?«ã??ã‚Œã?žã‚Œä¸€ã?¤ã?¾ã?§ã€?ç›¸é–¢å??ã?‚ã‚‹ã?„ã?¯è­˜åˆ¥å­?ã‚’å®šç¾©ã?§ã??ã?¾ã?™ã€‚
ã?¾ã?Ÿã€?è¡Œã?®ãƒˆãƒªã‚¬ã?«ã?¯é?·ç§»è¡¨ã?®è­˜åˆ¥å­?ã‚’å®šç¾©ã?§ã??ã?ªã?„ä¸€æ–¹ã?§ã€?æ–‡ã?®ãƒˆãƒªã‚¬ã?«ã?¯é?·ç§»å¤‰æ•°ã?®ç›¸é–¢å??ã‚’å®šç¾©ã?§ã??ã?¾ã?›ã‚“ã€‚</p>
 </div>

<div class="section" id="rrefsqlj43125__sqlj54276"><a name="rrefsqlj43125__sqlj54276"><!-- --></a><h4 class="sectiontitle">æ–‡ã?®ãƒˆãƒªã‚¬ã?¨è¡Œã?®ãƒˆãƒªã‚¬</h4> 
<div class="p">ãƒˆãƒªã‚¬ã?«ã?¯ã€?<em>æ–‡ã?®ãƒˆãƒªã‚¬</em>ã?¨<em>è¡Œã?®ãƒˆãƒªã‚¬</em>ã?Œã?‚ã‚Šã?¾ã?™ã€‚
CREATE TRIGGERæ–‡ã?®FOR EACHç¯€ã?«ã?¦ã€?ã?©ã?¡ã‚‰ã?®ãƒˆãƒªã‚¬ã?§ã?‚ã‚‹ã?‹æ˜Žç¤ºã?•ã‚Œã?ªã?‹ã?£ã?Ÿå ´å?ˆã?®æ—¢å®šã?¯ã€?<em>æ–‡ã?®ãƒˆãƒªã‚¬</em>ã?§ã?™ã€‚
  <ul>
<li><em>æ–‡ã?®ãƒˆãƒªã‚¬</em>   <p>æ–‡ã?®ãƒˆãƒªã‚¬ã?¯ãƒˆãƒªã‚¬ã?®ã‚¤ãƒ™ãƒ³ãƒˆæ¯Žã?«ä¸€å›žç™ºç?«ã?—ã?¾ã?™ã€‚ãƒˆãƒªã‚¬ã?®ç™ºç?«ã?«æŒ¿å…¥ãƒ»æ›´æ–°ãƒ»å‰Šé™¤ã?«ã?¦ä½•è¡Œã?Œå¤‰æ›´ã?•ã‚Œã?Ÿã?‹ã?¯é–¢ä¿‚ã?‚ã‚Šã?¾ã?›ã‚“ã€‚</p>
</li>

<li><em>è¡Œã?®ãƒˆãƒªã‚¬</em>   <p>è¡Œã?®ãƒˆãƒªã‚¬ã?¯ãƒˆãƒªã‚¬ã?®ã‚¤ãƒ™ãƒ³ãƒˆã?Œå½±éŸ¿ã?™ã‚‹è¡Œæ¯Žã?«ä¸€å›žç™ºç?«ã?—ã?¾ã?™ã€‚å½±éŸ¿ã?Œä¸€è¡Œã?«ã‚‚å?Šã?°ã?ªã?‹ã?£ã?Ÿå ´å?ˆã€?ãƒˆãƒªã‚¬ã?¯ç™ºç?«ã?—ã?¾ã?›ã‚“ã€‚</p>
</li>

</ul>
 <div class="note"><span class="notetitle">Note: </span>åˆ—ã?®å€¤ã‚’å…ƒã?®å€¤ã?¨ç­‰ã?—ã?„å€¤ã?«å¤‰æ›´ã?—ã?Ÿå ´å?ˆ(ä¾‹ã?ˆã?°ã€?UPDATE T SET C = Cã?¨ã?„ã?†æ–‡ã‚’è€ƒã?ˆã?¦ã??ã? ã?•ã?„ã€‚)ã€?ãƒˆãƒªã‚¬ã?®ã‚¤ãƒ™ãƒ³ãƒˆå‰?ã?¨å¾Œã?§åˆ—ã?®å€¤ã?«å¤‰åŒ–ã?Œç„¡ã??ã?¦ã‚‚ã€?è¡Œã?®ãƒˆãƒªã‚¬ã?¯ç™ºç?«ã?—ã?¾ã?™ã€‚</div>
</div>
 </div>

<div class="section" id="rrefsqlj43125__i1149821"><a name="rrefsqlj43125__i1149821"><!-- --></a><h4 class="sectiontitle">ãƒˆãƒªã‚¬ã?•ã‚Œã‚‹SQLæ–‡</h4> 
<div class="p">ãƒˆãƒªã‚¬ã?§å®šç¾©ã?•ã‚Œã‚‹ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã?®ã?“ã?¨ã‚’ã€?ãƒˆãƒªã‚¬ã?•ã‚Œã‚‹SQLæ–‡ã?¨å‘¼ã?³ã?¾ã?™ã€‚(ä¸Šè¨˜ã€?<a href="rrefsqlj43125.html#rrefsqlj43125__syn001">æ§‹æ–‡</a>ã?®æœ€çµ‚è¡Œã‚’ã‚’å?‚ç…§ã?—ã?¦ã??ã? ã?•ã?„ã€‚)
ãƒˆãƒªã‚¬ã?•ã‚Œã‚‹SQLæ–‡ã?«ã?¯ä»¥ä¸‹ã?®åˆ¶é™?ã?Œã?‚ã‚Šã?¾ã?™ã€‚<ul>
<li>å‹•çš„ã?ªå¼•æ•°(?)ã?Œã?‚ã?£ã?¦ã?¯ã?ªã‚Šã?¾ã?›ã‚“ã€‚</li>

<li>ãƒˆãƒªã‚¬ã?Œå®šç¾©ã?•ã‚Œã?¦ã?„ã‚‹è¡¨ã?®ä½œæˆ?ã‚„ã€?å¤‰æ›´ã€?ç ´æ£„ã‚’è¡Œã?£ã?¦ã?¯ã?ªã‚Šã?¾ã?›ã‚“ã€‚</li>

<li>ãƒˆãƒªã‚¬ã?Œå®šç¾©ã?•ã‚Œã?¦ã?„ã‚‹è¡¨ã?¸ã?®ç´¢å¼•ã?®ä½œæˆ?ã‚„ç ´æ£„ã‚’è¡Œã?£ã?¦ã?¯ã?ªã‚Šã?¾ã?›ã‚“ã€‚</li>

<li>ãƒˆãƒªã‚¬ã?Œå®šç¾©ã?•ã‚Œã?¦ã?„ã‚‹è¡¨ã?¸ã?®ãƒˆãƒªã‚¬ã?®ä½œæˆ?ã‚„ç ´æ£„ã‚’è¡Œã?£ã?¦ã?¯ã?ªã‚Šã?¾ã?›ã‚“ã€‚</li>

<li>ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã?®ã‚³ãƒŸãƒƒãƒˆã‚„ãƒ­ãƒ¼ãƒ«ãƒ?ãƒƒã‚¯ã€?åˆ†é›¢ãƒ¬ãƒ™ãƒ«ã?®å¤‰æ›´ã‚’è¡Œã?£ã?¦ã?¯ã?ªã‚Šã?¾ã?›ã‚“ã€‚</li>

<li>å‰?ã?®ãƒˆãƒªã‚¬ã?®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã?«INSERT/UPDATE/DELETEæ–‡ã?Œã?‚ã?£ã?¦ã?¯ã?ªã‚Šã?¾ã?›ã‚“ã€‚</li>

<li>å‰?ã?®ãƒˆãƒªã‚¬ã?®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã?§æ›´æ–°ã‚’è¡Œã?†æ‰‹ç¶šã??ã‚’å‘¼ã?³å‡ºã?—ã?¦ã?¯ã?ªã‚Šã?¾ã?›ã‚“ã€‚</li>

</ul>
</div>
<p>ãƒˆãƒªã‚¬ã?•ã‚Œã‚‹SQLæ–‡ã?§ã?¯ãƒˆãƒªã‚¬ã?Œå®šç¾©ã?•ã‚Œã?Ÿè¡¨ä»¥å¤–ã?®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã?®æƒ…å ±ã‚’å?‚ç…§ã?™ã‚‹ã?“ã?¨ã?Œã?§ã??ã?¾ã?™ã€‚ã??ã‚Œã‚‰ã?®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã?®æƒ…å ±ã?Œç ´æ£„ã?•ã‚Œã?¦ã?„ã?Ÿå ´å?ˆã€?ãƒˆãƒªã‚¬ã?¯ç„¡åŠ¹ã?¨ã?ªã‚Šã?¾ã?™ã€‚
æ¬¡å›žã?®å®Ÿè¡Œã?«ã?¦ãƒˆãƒªã‚¬ã?®å†?ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã?Œå¤±æ•—ã?—ã?Ÿå ´å?ˆã€?å‘¼ã?³å‡ºã?—ã?¯ä¾‹å¤–ã‚’æŠ•ã?’ã?¦ã€?ãƒˆãƒªã‚¬ã‚’ç™ºç?«ã?•ã?›ã?Ÿæ–‡ã?¯ãƒ­ãƒ¼ãƒ«ãƒ?ãƒƒã‚¯ã?•ã‚Œã?¾ã?™ã€‚</p>

<p>ãƒˆãƒªã‚¬ã?•ã‚Œã‚‹SQLæ–‡ã?®è©³ç´°ã?«ã?¤ã?„ã?¦ã?¯ã€?<cite><span><em>Derby ãƒ‡ã‚£ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼ã‚º ã‚¬ã‚¤ãƒ‰</em></span></cite>ã‚’å?‚ç…§ã?—ã?¦ã??ã? ã?•ã?„ã€‚</p>
 </div>

<div class="section"><h4 class="sectiontitle">å®Ÿè¡Œã?®é †åº?</h4> <div class="p">ãƒˆãƒªã‚¬ã‚’ç™ºç?«ã?•ã?›ã‚‹ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã?®ã‚¤ãƒ™ãƒ³ãƒˆã?Œèµ·ã??ã‚‹ã?¨ã€?<span>Derby</span>ã?¯å‡¦ç?†ã‚’æ¬¡ã?®é †ã?§è¡Œã?„ã?¾ã?™ã€‚<ul>
<li>æœ€åˆ?ã?«<em>No Cascade Before</em>ã?ªãƒˆãƒªã‚¬ã?®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’å®Ÿè¡Œã?—ã?¾ã?™ã€‚</li>

<li>æ¬¡ã?«ã€?åˆ¶ç´„(ä¸»ã‚­ãƒ¼ã€?ä¸€æ„?ã‚­ãƒ¼ã€?å¤–éƒ¨ã‚­ãƒ¼)ã?®æ¤œè¨¼ã‚’è¡Œã?„ã?¾ã?™ã€‚</li>

<li>ç¶šã?„ã?¦ã€?æ›´æ–°ã€?å¤‰æ›´ã€?å‰Šé™¤ã?ªã?©ã?®å‡¦ç?†ã‚’è¡Œã?„ã?¾ã?™ã€‚</li>

<li>æœ€å¾Œã?«<em>After</em>ã?ªãƒˆãƒªã‚¬ã‚’ç™ºç?«ã?—ã?¾ã?™ã€‚</li>

</ul>
</div>
 <p>å?Œã?˜è¡¨ã?«å¯¾ã?—ã?¦ã€?å?Œã?˜ã‚¤ãƒ™ãƒ³ãƒˆã?®ã€?ç™ºç?«ã?™ã‚‹æ™‚(ãƒˆãƒªã‚¬ã?Œå‰?ã?‹å¾Œã?‹ã?¨ã?„ã?†æ„?å‘³ã?§ã?™ã€‚)ã?Œå?Œã?˜ãƒˆãƒªã‚¬ã?Œè¤‡æ•°å®šç¾©ã?•ã‚Œã?¦ã?„ã?Ÿå ´å?ˆã€?ãƒˆãƒªã‚¬ã?¯ä½œæˆ?ã?•ã‚Œã?Ÿé †ã?«å®Ÿè¡Œã?•ã‚Œã?¾ã?™ã€‚</p>
 </div>

<div class="example"> <pre><strong><span>-- æ–‡ã?¨ãƒˆãƒªã‚¬
</span>
CREATE TRIGGER t1 NO CASCADE BEFORE UPDATE ON x
  FOR EACH ROW MODE DB2SQL
  values app.notifyEmail('Jerry', 'Table x is about to be updated'); 

CREATE TRIGGER FLIGHTSDELETE
  AFTER DELETE ON FLIGHTS
  REFERENCING OLD_TABLE AS DELETEDFLIGHTS
  FOR EACH STATEMENT 
  DELETE FROM FLIGHTAVAILABILITY WHERE FLIGHT_ID IN
  (SELECT FLIGHT_ID FROM DELETEDFLIGHTS);

CREATE TRIGGER FLIGHTSDELETE3
  AFTER DELETE ON FLIGHTS
  REFERENCING OLD AS OLD
  FOR EACH ROW 
  DELETE FROM FLIGHTAVAILABILITY WHERE FLIGHT_ID = OLD.FLIGHT_ID;
</strong></pre>
 <div class="note"><span class="notetitle">Note: </span><cite><span><em>Derby ãƒ‡ã‚£ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼ã‚º ã‚¬ã‚¤ãƒ‰</em></span></cite>ã?«ã?¯ã‚ˆã‚Šå¤šã??ã?®ä¾‹ã?Œæ›¸ã?‹ã‚Œã?¦ã?„ã?¾ã?™ã€‚</div>
 </div>

<div class="section"><h4 class="sectiontitle">ãƒˆãƒªã‚¬ã?®å†?å¸°</h4> <p>ãƒˆãƒªã‚¬ã?®å†?å¸°ã?¯æœ€å¤§16ã?¾ã?§ã?§ã?™ã€‚</p>
 </div>

<div class="section"><h4 class="sectiontitle">é–¢é€£ã?™ã‚‹æƒ…å ±</h4> 
<div class="p">ç?¾åœ¨ã?®æ™‚åˆ»ã‚„ç?¾åœ¨ã?®ãƒ¦ãƒ¼ã‚¶ã‚’è¿”ã?™ç‰¹æ®Šã‚·ã‚¹ãƒ†ãƒ é–¢æ•°ã?¯ã€?ãƒˆãƒªã‚¬ã‚’ä½œæˆ?ã?—ã?Ÿã?¨ã??ã?§ã?¯ã?ªã??ã€?ãƒˆãƒªã‚¬ã?Œç™ºç?«ã?—ã?Ÿã?¨ã??ã?«è©•ä¾¡ã?•ã‚Œã?¾ã?™ã€‚ã?“ã?®ã‚ˆã?†ã?ªé–¢æ•°ã?«ã?¯ä»¥ä¸‹ã?®ã‚‚ã?®ã?Œã?‚ã‚Šã?¾ã?™ã€‚<ul>
<li><a href="rrefsqlj34177.html#rrefsqlj34177">CURRENT_DATEé–¢æ•°</a></li>

<li><a href="rrefsqlj33772.html#rrefsqlj33772">CURRENT_TIMEé–¢æ•°</a></li>

<li><a href="rrefsqlj15866.html#rrefsqlj15866">CURRENT_TIMESTAMPé–¢æ•°</a></li>

<li><a href="rrefsqlj42324.html#rrefsqlj42324">CURRENT_USERé–¢æ•°</a></li>

<li><a href="rrefsqlj25228.html#rrefsqlj25228">SESSION_USERé–¢æ•°</a></li>

<li><a href="rrefsqlj42476.html#rrefsqlj42476">USERé–¢æ•°</a></li>

</ul>
</div>
 </div>

</div>

<div>
<ul class="ullinks">
<li class="ulchildlink"><strong><a href="rrefsqlj89752.html">å?‚ç…§ç¯€</a></strong><br />
</li>
</ul>

<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="crefsqlj95081.html" title="">CREATE æ–‡</a></div>
</div>
<div class="relref"><strong>Related reference</strong><br />
<div><a href="rrefcreatefunctionstatement.html" title="CREATE FUNCTIONæ–‡ã?«ã‚ˆã‚Šã€?å¼?ã?§åˆ©ç”¨ã?§ã??ã‚‹Javaé–¢æ•°ã‚’ä½œæˆ?ã?§ã??ã?¾ã?™ã€‚">CREATE FUNCTION æ–‡</a></div>
<div><a href="rrefsqlj20937.html" title="">CREATE INDEX æ–‡</a></div>
<div><a href="rrefcreateprocedurestatement.html" title="">CREATE PROCEDURE æ–‡</a></div>
<div><a href="rrefsqlj31580.html" title="">CREATE SCHEMA æ–‡</a></div>
<div><a href="rrefsqljcreatesynonym.html" title="">CREATE SYNONYM æ–‡</a></div>
<div><a href="rrefsqlj24513.html" title="">CREATE TABLE æ–‡</a></div>
<div><a href="rrefsqlj15446.html" title="">CREATE VIEW æ–‡</a></div>
</div>
</div>

</body>
</html>