<!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="ja" xml:lang="ja">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
<meta name="copyright" content="(C) Copyright 2005" />
<meta name="DC.rights.owner" content="(C) Copyright 2005" />
<meta content="public" name="security" />
<meta content="index,follow" name="Robots" />
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta content="reference" name="DC.Type" />
<meta name="DC.Title" content="DECLARE GLOBAL TEMPORARY TABLE æ–‡" />
<meta name="abstract" content="The DECLARE GLOBAL TEMPORARY TABLE statement defines a temporary table for the current connection." />
<meta name="description" content="The DECLARE GLOBAL TEMPORARY TABLE statement defines a temporary table for the current connection." />
<meta content="DECLARE GLOBAL TEMPORARY TABLE statement, tables, temporary, DECLARE GLOBAL TEMPORARY TABLE, SQL statements" name="DC.subject" />
<meta content="DECLARE GLOBAL TEMPORARY TABLE statement, tables, temporary, DECLARE GLOBAL TEMPORARY TABLE, SQL statements" name="keywords" />
<meta scheme="URI" name="DC.Relation" content="crefsqlj39374.html" />
<meta content="XHTML" name="DC.Format" />
<meta content="rrefdeclaretemptable" name="DC.Identifier" />
<meta content="ja" name="DC.Language" />
<link href="commonltr.css" type="text/css" rel="stylesheet" />
<title>DECLARE GLOBAL TEMPORARY TABLE æ–‡</title>
</head>
<body id="rrefdeclaretemptable"><a name="rrefdeclaretemptable"><!-- --></a>


<h1 class="topictitle1">DECLARE GLOBAL TEMPORARY TABLE æ–‡</h1>



<div><p>The DECLARE GLOBAL TEMPORARY TABLE statement defines a temporary
table for the current connection. </p>

<div class="section"><p>ã?“ã‚Œã‚‰ã?®è¡¨ã?¯ã‚·ã‚¹ãƒ†ãƒ ã‚«ã‚¿ãƒ­ã‚°ã?«ã?‚ã‚‹ã‚‚ã?®ã?§ã?¯ã?ªã??æ°¸ç¶šçš„ã?ªã‚‚ã?®ã?§ã?¯ã?‚ã‚Šã?¾ã?›ã‚“ã€‚ä¸€æ™‚è¡¨ã?¯ä½œæˆ?ã?—ã?ŸæŽ¥ç¶šã?®æœŸé–“ã?®ã?¿å­˜åœ¨ã?—ã?¦ã€?ä»–ã?®æŽ¥ç¶šã?‹ã‚‰å?‚ç…§ã?™ã‚‹ã?“ã?¨ã?¯ã?§ã??ã?¾ã?›ã‚“ã€‚æŽ¥ç¶šã?Œé–‰ã?˜ã‚‹ã?¨ã??ã€?
è¡¨ä¸­ã?®è¡Œã?¯å‰Šé™¤ã?•ã‚Œã€?ä¸€æ™‚è¡¨ã?«é–¢ã?™ã‚‹ãƒ¡ãƒ¢ãƒªä¸Šã?®è¨˜è¿°ã?¯ç ´æ£„ã?•ã‚Œã?¾ã?™ã€‚</p>
</div>

<div class="section"><div class="p">ä¸€æ™‚è¡¨ã?¯ä»¥ä¸‹ã?®ã‚ˆã?†ã?ªå ´å?ˆã?«ä¾¿åˆ©ã?§ã?™ã€‚<ul>
<li>è¡¨ã?®æ§‹é€ ã?Œã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½¿ã?†å‰?ã?§ã?¯åˆ†ã?‹ã‚‰ã?ªã?„å ´å?ˆ</li>

<li>ä»–ã?®ãƒ¦ãƒ¼ã‚¶ã?Œå?Œæ§˜ã?ªæ§‹é€ ã?®è¡¨ã‚’å¿…è¦?ã?¨ã?—ã?ªã?„å ´å?ˆ</li>

<li>ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½¿ã?£ã?¦ã?„ã‚‹å ´å?ˆã?®ã?¿ã€?ä¸€æ™‚è¡¨ã?®æƒ…å ±ã?Œå¿…è¦?ã?ªå ´å?ˆ</li>

<li>ã‚·ã‚¹ãƒ†ãƒ ã‚«ã‚¿ãƒ­ã‚°ã?«ãƒ­ãƒƒã‚¯ã‚’æŒ?ã?Ÿã?šã?«ã€?è¡¨ã?®å®šç¾©ã?¨ç ´æ£„ã?Œå?¯èƒ½ã?ªå ´å?ˆ</li>

</ul>
</div>
</div>

<div class="section"><h4 class="sectiontitle">æ§‹æ–‡</h4> <pre><strong>DECLARE GLOBAL TEMPORARY TABLE <em><a href="rrefdeclaretemptable.html#rrefdeclaretemptable__tempcoltablename">è¡¨å??</a></em>
    { åˆ—å®šç¾© [ , åˆ—å®šç¾© ] * }
[ ON COMMIT {DELETE | PRESERVE} ROWS ]  
NOT LOGGED [ON ROLLBACK DELETE ROWS]
 </strong></pre>
</div>

<div class="section" id="rrefdeclaretemptable__tempcoltablename"><a name="rrefdeclaretemptable__tempcoltablename"><!-- --></a><h4 class="sectiontitle">è¡¨å??</h4>
<p>ä¸€æ™‚è¡¨ã?®å??å‰?ã?§ã?™ã€‚SESSIONä»¥å¤–ã?®ã‚¹ã‚­ãƒ¼ãƒžå??ã?ŒæŒ‡å®šã?•ã‚Œã?Ÿå ´å?ˆã€?ã‚¨ãƒ©ãƒ¼ã?Œç™ºç”Ÿã?—ã?¾ã?™ã€‚(SQLSTATE 428EK)
ã‚¹ã‚­ãƒ¼ãƒžå??ã?ŒæŒ‡å®šã?•ã‚Œã?ªã?‹ã?£ã?Ÿå ´å?ˆã€?SESSIONã?Œã?‚ã?¦ã‚‰ã‚Œã?¾ã?™ã€‚
è¤‡æ•°ã?®æŽ¥ç¶šã?§å?Œã?˜å??å‰?ã?®ä¸€æ™‚è¡¨ã‚’ä½œã‚‹ã?“ã?¨ã?Œã?§ã??ã?¾ã?™ã€‚ã?ªã?œã?ªã‚‰ã??ã‚Œã?žã‚Œã?®æŽ¥ç¶šã?¯å€‹ã€…ã?«ä¸€æ„?ã?ªè¡¨ã?®è¨˜è¿°å­?ã‚’æŒ?ã?¤ã?‹ã‚‰ã?§ã?™ã€‚</p>

<p>SESSIONã‚’æ°¸ç¶šçš„ã?ªè¡¨ã?®ã‚¹ã‚­ãƒ¼ãƒžã?¨ã?—ã?¦ä½¿ã?£ã?¦ã‚‚ã‚¨ãƒ©ãƒ¼ã?«ã?¯ã?ªã‚Šã?¾ã?›ã‚“ã?ŒæŽ¨å¥¨ã?—ã?¾ã?›ã‚“ã€‚
SESSIONã?¨ã?„ã?†ã‚¹ã‚­ãƒ¼ãƒžå??ã?¯ä¸€æ™‚è¡¨ã?®ã‚¹ã‚­ãƒ¼ãƒžç”¨ã?«äºˆç´„ã?•ã‚Œã?¦ã?„ã?¾ã?™ã€‚</p>
</div>

<div class="section" id="rrefdeclaretemptable__tempcolcolumndef"><a name="rrefdeclaretemptable__tempcolcolumndef"><!-- --></a><h4 class="sectiontitle">åˆ—å®šç¾©</h4>
<p><samp class="codeph">åˆ—å®šç¾©</samp>ã?®è©³ç´°ã?«ã?¤ã?„ã?¦ã?¯<a href="rrefsqlj30540.html#rrefsqlj30540">åˆ—å®šç¾©</a>ã?®<samp class="codeph">CREATE TABLE</samp>ã‚’å?‚ç…§ã?—ã?¦ã??ã? ã?•ã?„ã€‚
<samp class="codeph">DECLARE GLOBAL
TEMPORARY TABLE</samp>ã?§ã?¯<samp class="codeph">åˆ—å®šç¾©</samp>ã?«<samp class="codeph">ç™ºç•ªåˆ—ä»•æ§˜</samp>ã?¯ä¸?å?¯èƒ½ã?§ã?™ã€‚</p>
</div>

<div class="section" id="rrefdeclaretemptable__rreftemptabledatatype"><a name="rrefdeclaretemptable__rreftemptabledatatype"><!-- --></a><h4 class="sectiontitle">ãƒ‡ãƒ¼ã‚¿åž‹</h4>
<div class="p">å?¯èƒ½ã?ªãƒ‡ãƒ¼ã‚¿åž‹ã?¯ä»¥ä¸‹ã?®ã?¨ã?Šã‚Šã?§ã?™ã€‚<ul>
<li>BIGINT</li>

<li>CHAR</li>

<li>DATE</li>

<li>DECIMAL</li>

<li>DOUBLE</li>

<li>DOUBLE PRECISION</li>

<li>FLOAT</li>

<li>INTEGER</li>

<li>NUMERIC</li>

<li>REAL</li>

<li>SMALLINT</li>

<li>TIME</li>

<li>TIMESTAMP</li>

<li>VARCHAR</li>

</ul>
</div>
</div>

<div class="section" id="rrefdeclaretemptable__rreftemptableoncommit"><a name="rrefdeclaretemptable__rreftemptableoncommit"><!-- --></a><h4 class="sectiontitle">ON COMMIT</h4>
<p>COMMITã?Œè¡Œã‚?ã‚Œã?Ÿã?¨ã??ã?®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã?—ã?¾ã?™ã€‚</p>
</div>

<div class="section"><h4 class="sectiontitle">DELETE ROWS</h4>
<p>è¡¨ã?«é–‹ã?„ã?Ÿã‚«ãƒ¼ã‚½ãƒ«ã?Œç„¡ã?‘ã‚Œã?°ã€?è¡¨ä¸­ã?®å…¨ã?¦ã?®è¡Œã?Œå‰Šé™¤ã?•ã‚Œã?¾ã?™ã€‚ã?“ã‚Œã?¯ON COMMITã?®æ—¢å®šã?§ã?™ã€‚
ã‚‚ã?—ON ROLLBACK DELETE ROWSã‚’æŒ‡å®šã?—ã?Ÿå ´å?ˆã?¯ã€?ä¸€æ™‚è¡¨ã?Œä½¿ã‚?ã‚Œã?Ÿå ´å?ˆã?®ã?¿å…¨ã?¦ã?®è¡Œã?Œå‰Šé™¤ã?•ã‚Œã?¾ã?™ã€‚
ON COMMIT DELETE ROWSã‚’æŒ‡å®šã?—ã?Ÿå ´å?ˆã?¯ã€?ä¸€æ™‚è¡¨ã?Œä½¿ã‚?ã‚Œã?ªã?‹ã?£ã?Ÿå ´å?ˆã?§ã‚‚è¡¨ã?®è¡Œã?Œå‰Šé™¤ã?•ã‚Œã?¾ã?™(é–‹ã?„ã?Ÿã‚«ãƒ¼ã‚½ãƒ«ã?Œç„¡ã?‹ã?£ã?Ÿå ´å?ˆã?§ã?™ã€‚)ã€‚</p>
</div>

<div class="section"><h4 class="sectiontitle">PRESERVE ROWS</h4><p>è¡¨ã?®è¡Œã?¯ç•™ã‚?ç½®ã?‹ã‚Œã?¾ã?™ã€‚</p>
</div>

<div class="section" id="rrefdeclaretemptable__rreftemptablenotlogged"><a name="rrefdeclaretemptable__rreftemptablenotlogged"><!-- --></a><h4 class="sectiontitle">NOT LOGGED</h4>
<p>
ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã?Œãƒ­ãƒ¼ãƒ«ãƒ?ãƒƒã‚¯ã?•ã‚Œã?Ÿã?¨ã??ã€?ä¸€æ™‚è¡¨ã?«è¡Œã‚?ã‚Œã‚‹ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã?—ã?¾ã?™ã€‚
ROLLBACK(ã?‚ã‚‹ã?„ã?¯ROLLBACK TO SAVEPOINT)ã?Œè¡Œã‚?ã‚Œã‚‹ã?¨ã€?ä½œæ¥­å?˜ä½?(ã‚‚ã?—ã??ã?¯ã‚»ãƒ¼ãƒ–ãƒ?ã‚¤ãƒ³ãƒˆ)ã?«ã?¦è¡¨ã?Œä½œã‚‰ã‚Œã?¦ã?„ã‚Œã?°ã€?ã??ã?®è¡¨ã?¯ç ´æ£„ã?•ã‚Œã?¾ã?™ã€‚ã‚‚ã?—ä½œæ¥­å?˜ä½?(ã‚‚ã?—ã??ã?¯ã‚»ãƒ¼ãƒ–ãƒ?ã‚¤ãƒ³ãƒˆ)ã?«ã?¦è¡¨ã?Œç ´æ£„ã?•ã‚Œã?Ÿå ´å?ˆã€?è¡Œã?®ã?ªã?„è¡¨ã?Œå¾©å…ƒã?•ã‚Œã?¾ã?™ã€‚</p>
</div>

<div class="section"><h4 class="sectiontitle">ON ROLLBACK DELETE ROWS</h4> 
<p>ã?“ã‚Œã?¯NOT LOGGEDã?®æ—¢å®šã?§ã?™ã€‚NOT LOGGED [ON ROLLBACK DELETE ROWS ]]ã?«ã‚ˆã‚Šã€?ROLLBACKã?‚ã‚‹ã?„ã?¯ROLLBACK TO SAVEPOINTã?Œè¡Œã‚?ã‚Œã?Ÿã?¨ã??ä¸€æ™‚è¡¨ã?«è¡Œã‚?ã‚Œã‚‹å‡¦ç?†ã?ŒæŒ‡å®šã?•ã‚Œã?¾ã?™ã€‚ã‚‚ã?—è¡¨ã?®æƒ…å ±ã?Œå¤‰æ›´ã?•ã‚Œã?¦ã?„ã‚Œã?°ã€?å…¨è¡Œã?Œå‰Šé™¤ã?•ã‚Œã?¾ã?™ã€‚</p>
</div>

<div class="section"><h4 class="sectiontitle">ä¾‹</h4><pre><strong>set schema myapp;

create table t1(c11 int, c12 date);

declare global temporary table SESSION.t1(c11 int) not logged;</strong>
-- ä¸€æ™‚è¡¨ã?¯SESSIONã‚¹ã‚­ãƒ¼ãƒžã?«ã?—ã?‹ç½®ã?‹ã‚Œã?ªã?„ã?®ã?§ã€?
-- SESSIONã?«ã‚ˆã‚‹é™?å®šã?¯å†—é•·ã?§ã?™ã€‚
<strong>declare global temporary table t2(c21 int) not logged;</strong> 
-- ä¸€æ™‚è¡¨ã?¯SESSIONã‚¹ã‚­ãƒ¼ãƒžã?«ã?—ã?‹ç½®ã?‹ã‚Œã?ªã?„ã?®ã?§ã€?
-- ã?“ã?®ä¾‹ã?§ã?¯SESSIONã?«ã‚ˆã‚Šé™?å®šã?—ã?¾ã?›ã‚“ã€‚

<strong>insert into SESSION.t1 values (1); </strong>
-- ç?¾åœ¨ã?®ã‚¹ã‚­ãƒ¼ãƒžã?Œ"myapp."ã?ªã?®ã?§ã€?ä¸€æ™‚è¡¨ã‚’ä½¿ã?†ã?«ã?¯SESSIONã?«ã‚ˆã‚‹é™?å®šã?Œå¿…é ˆã?§ã?™ã€‚

<strong>select * from t1;</strong> 
-- è¡¨ã?ŒSESSIONã?«ã‚ˆã‚Šé™?å®šã?•ã‚Œã?¦ã?„ã?ªã?„ã?®ã?§ã€?
-- ã?“ã?®selectæ–‡ã?®"myapp.t1"ã?¯å®Ÿè¡¨ã‚’å?‚ç…§ã?—ã?¾ã?™ã€‚

</pre>
 <div class="note"><span class="notetitle">æ³¨: </span>ä¸€æ™‚è¡¨ã?¯SESSIONã‚¹ã‚­ãƒ¼ãƒžã?«ã?®ã?¿å®šç¾©ã?§ã??ã?¾ã?™ã€‚
ãƒ¦ãƒ¼ã‚¶ã?¯SESSIONã?¨ã?„ã?†å??å‰?ã?®å®Ÿã‚¹ã‚­ãƒ¼ãƒžã‚’å®šç¾©ã?™ã‚‹ã?¹ã??ã?§ã?¯ã?‚ã‚Šã?¾ã?›ã‚“ã€‚</div>

<div class="p">æ¬¡ã?®DB2 UDBã?«ã?¦å?¯èƒ½ã?ªDECLARE GLOBAL TEMPORARY TABLEé–¢æ•°ã?¯ã€?<span>Derby</span>ã?«ã?¦ä½¿ã?ˆã?¾ã?›ã‚“ã€‚<ul>
<li>IDENTITY column-options </li>

<li>IDENTITY attribute in copy-options</li>

<li>AS (fullselect) DEFINITION ONLY</li>

<li>NOT LOGGED ON ROLLBACK PRESERVE ROWS</li>

<li>IN tablespace-name</li>

<li>PARTITIONING KEY</li>

<li>WITH REPLACE </li>

</ul>
 </div>
</div>

<div class="section"><h4 class="sectiontitle">Declared Global Temporary Tablesã?®åˆ¶é™?äº‹é …</h4> 
<p><span>Derby</span>ã?§ã?¯ä¸€æ™‚è¡¨ã?«æ¬¡ã?®æ©Ÿèƒ½ã‚’æ??ä¾›ã?—ã?¦ã?„ã?¾ã?›ã‚“ã€‚
ã?“ã‚Œã‚‰ã?®æ©Ÿèƒ½ã?®å¹¾ã?¤ã?‹ã?¯ä¸€æ™‚è¡¨ç‰¹æœ‰ã?®ã‚‚ã?®ã?§ã?‚ã‚Šã€?å¹¾ã?¤ã?‹ã?¯<span>Derby</span>ç‰¹æœ‰ã?®ã‚‚ã?®ã?§ã?™ã€‚</p>

<div class="p">ä»¥ä¸‹ã?®æ–‡ã?§ã?¯ä¸€æ™‚è¡¨ã‚’æŒ‡å®šã?§ã??ã?¾ã?›ã‚“ã€‚<ul>
<li>ALTER TABLE </li>

<li>CREATE INDEX</li>

<li>CREATE SYNONYM</li>

<li>CREATE TRIGGER</li>

<li>CREATE VIEW</li>

<li>GRANT</li>

<li>LOCK TABLE</li>

<li>RENAME</li>

<li>REVOKE</li>

</ul>
</div>

<p>ä¸€æ™‚è¡¨ã?«ã?¯æ¬¡ã?®æ©Ÿèƒ½ã‚’ä½¿ã?ˆã?¾ã?›ã‚“ã€‚</p>
<ul>
<li>SESSIONã‚¹ã‚­ãƒ¼ãƒžã?«ã?‚ã‚‹è¡¨(å®Ÿè¡¨ã?¨ä¸€æ™‚è¡¨ã‚’å?«ã?¿ã?¾ã?™)ã?¸ã?®åˆ¥å??ã€?ãƒˆãƒªã‚¬ã€?ãƒ“ãƒ¥ãƒ¼</li>

<li>SESSIONã‚¹ã‚­ãƒ¼ãƒžã?«ã?‚ã‚‹è¡¨ã‚’å?‚ç…§ã?™ã‚‹æ–‡ã?®ã‚­ãƒ£ãƒƒã‚·ãƒ¥</li>

<li>ä¸€æ™‚è¡¨ã?¯å¤–éƒ¨ã‚­ãƒ¼åˆ¶ç´„ã‚„ä¸»ã‚­ãƒ¼åˆ¶ç´„ã?§æŒ‡å®šã?§ã??ã?ªã?„ã€‚</li>

<li>ãƒˆãƒªã‚¬ã?•ã‚Œã‚‹SQLæ–‡ã?§ã?¯ä¸€æ™‚è¡¨ã‚’å?‚ç…§ã?§ã??ã?¾ã?›ã‚“ã€‚</li>

<li>åˆ—ã?®ãƒ?ã‚§ãƒƒã‚¯åˆ¶ç´„</li>

<li>ç™ºç•ªåˆ—ä»•æ§˜</li>

<li>ä¸€æ™‚è¡¨ã?¸ã?®ã‚¤ãƒ³ãƒ?ãƒ¼ãƒˆ</li>

</ul>
 <p>ä¸€æ™‚è¡¨ã?¸ã?®æŒ¿å…¥ã€?æ›´æ–°ã€?å‰Šé™¤ã?®æ–‡ã?«ã?¦ã‚¨ãƒ©ãƒ¼ã?Œèµ·ã??ã?Ÿå ´å?ˆã€?ä¸€æ™‚è¡¨ã?®å…¨ã?¦ã?®è¡Œã?¯å‰Šé™¤ã?•ã‚Œã?¾ã?™ã€‚</p>

<div class="p">ä¸€æ™‚è¡¨ã?«ã?¦ä»¥ä¸‹ã?®ãƒ‡ãƒ¼ã‚¿åž‹ã?¯åˆ©ç”¨ã?§ã??ã?¾ã?›ã‚“ã€‚<ul>
<li>BLOB</li>

<li>CHAR FOR BIT DATA</li>

<li>CLOB</li>

<li>LONG VARCHAR</li>

<li>LONG VARCHAR FOR BIT DATA</li>

<li>VARCHAR FOR BIT DATA</li>

<li>XML</li>

</ul>
</div>
</div>

</div>

<div>
<div class="familylinks">
<div class="parentlink"><strong>è¦ªãƒˆãƒ”ãƒƒã‚¯:</strong> <a href="crefsqlj39374.html" title="">æ–‡</a></div>
</div>
</div>

</body>
</html>